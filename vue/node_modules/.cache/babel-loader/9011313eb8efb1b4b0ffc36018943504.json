{"remainingRequest":"D:\\File\\projects\\bookstore\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\File\\projects\\bookstore\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\File\\projects\\bookstore\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\File\\projects\\bookstore\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\File\\projects\\bookstore\\vue\\src\\pages\\views\\Dashboard.vue?vue&type=template&id=f4b15482&scoped=true","dependencies":[{"path":"D:\\File\\projects\\bookstore\\vue\\src\\pages\\views\\Dashboard.vue","mtime":1680835387130},{"path":"D:\\File\\projects\\bookstore\\vue\\babel.config.js","mtime":1676624600000},{"path":"D:\\File\\projects\\bookstore\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\File\\projects\\bookstore\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\File\\projects\\bookstore\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"D:\\File\\projects\\bookstore\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\File\\projects\\bookstore\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwpjb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoImRhdGEtdi1mNGIxNTQ4MiIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuKTsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBzbG90OiAiaGVhZGVyIiwKICBjbGFzczogImNsZWFyZml4Igp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAidGV4dCBpdGVtIgp9Owpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiaWNvbiIsCiAgImFyaWEtaGlkZGVuIjogInRydWUiCn07CmNvbnN0IF9ob2lzdGVkXzQgPSBbInhsaW5rOmhyZWYiXTsKY29uc3QgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogInRleHQiCn07CmNvbnN0IF9ob2lzdGVkXzYgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgaWQ6ICJteVRpbWVyIiwKICBzdHlsZTogewogICAgIm1hcmdpbi1sZWZ0IjogIjE1cHgiLAogICAgImZvbnQtd2VpZ2h0IjogIjU1MCIKICB9Cn0sIG51bGwsIC0xIC8qIEhPSVNURUQgKi8pKTsKY29uc3QgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICBpZDogIm1haW4iLAogIHN0eWxlOiB7CiAgICAibWFyZ2luLWxlZnQiOiAiNXB4IgogIH0KfSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLykpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X2VsX2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtY2FyZCIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfY29sID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWNvbCIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfcm93ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXJvdyIpOwogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9yb3csIHsKICAgIGd1dHRlcjogMjAKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkZGF0YS5jYXJkcywgaXRlbSA9PiB7CiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX2NvbCwgewogICAgICAgIHNwYW46IDYsCiAgICAgICAga2V5OiBpdGVtLnRpdGxlCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfY2FyZCwgewogICAgICAgICAgY2xhc3M6ICJib3gtY2FyZCIKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgX3RvRGlzcGxheVN0cmluZyhpdGVtLnRpdGxlKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgWyhfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInN2ZyIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ1c2UiLCB7CiAgICAgICAgICAgICJ4bGluazpocmVmIjogaXRlbS5pY29uLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICJ3aWR0aCI6ICIxMDBweCIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgX2hvaXN0ZWRfNCldKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0uZGF0YSksIDEgLyogVEVYVCAqLyldKV0pLAoKICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgIH0sIDEwMjQgLyogRFlOQU1JQ19TTE9UUyAqLyldKSwKCiAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgIH0sIDEwMjQgLyogRFlOQU1JQ19TTE9UUyAqLyk7CiAgICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSldKSwKCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0pLCBfaG9pc3RlZF82LCBfY3JlYXRlQ29tbWVudFZOb2RlKCIg5Li6IEVDaGFydHMg5YeG5aSH5LiA5Liq5YW35aSH5aSn5bCP77yI5a696auY77yJ55qEIERPTSAiKSwgX2hvaXN0ZWRfN10pOwp9"},{"version":3,"names":["slot","class","_createElementVNode","id","style","_createElementBlock","_createVNode","_component_el_row","gutter","_Fragment","_renderList","$data","cards","item","_createBlock","_component_el_col","span","key","title","_component_el_card","_hoisted_1","_toDisplayString","_hoisted_2","_hoisted_3","icon","_hoisted_5","data","_hoisted_6","_createCommentVNode","_hoisted_7"],"sources":["D:\\File\\projects\\bookstore\\vue\\src\\pages\\views\\Dashboard.vue"],"sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"6\" v-for=\"item in cards\" :key=\"item.title\">\n        <el-card class=\"box-card\">\n          <div slot=\"header\" class=\"clearfix\">{{ item.title }}</div>\n          <div class=\"text item\">\n            <svg class=\"icon\" aria-hidden=\"true\">\n              <use :xlink:href=\"item.icon\" style=\"width: 100px\"></use>\n            </svg>\n            <span class=\"text\">{{ item.data }}</span>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n    <div id=\"myTimer\" style=\"margin-left: 15px;font-weight: 550;\"></div>\n    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->\n    <div id=\"main\" style=\"margin-left: 5px\"></div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\nimport {ElMessage} from \"element-plus\";\nimport request from \"../../utils/request\";\nimport router from \"@/router\";\n\nexport default {\n  data() {\n    return {\n      cards: [\n        { title: '已借阅', data: 100, icon: '#iconlend-record-pro' },\n        { title: '总访问', data: 100, icon: '#iconvisit'   },\n        { title: '图书数', data: 100, icon: '#iconbook-pro' },\n        { title: '用户数', data: 1000, icon: '#iconpopulation' }\n      ],\n      data:{}\n    }\n  },\n  created() {\n    let userJson = sessionStorage.getItem(\"user\")\n    if(!userJson)\n    {\n      router.push(\"/login\")\n    }\n  },\n  mounted() {\n    this.circleTimer()\n\n    request.get(\"/dashboard\").then(res=>{\n      if(res.code == 200)\n      {\n\n        this.cards[0].data = res.data.lendRecordCount\n        this.cards[1].data = res.data.visitCount\n        this.cards[2].data = res.data.bookCount\n        this.cards[3].data = res.data.userCount\n\n      }\n      else\n      {\n        ElMessage.error(res.msg)\n      }\n\n\n      // 基于准备好的dom，初始化echarts实例\n      var myChart = echarts.init(document.getElementById('main'))\n      // 绘制图表\n      myChart.setOption({\n        title: {\n          text: '统计'\n        },\n        tooltip: {\n          trigger: 'axis'\n          // axisPointer: {\n          //   type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n          // }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: this.cards.map(item => item.title),\n          axisTick: {\n            alignWithLabel: true\n          }\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [\n          {\n            type: 'bar',\n            label: { show: true },\n            barWidth: '25%',\n            data: [\n              {\n                value: this.cards[0].data,\n                itemStyle: { color: '#5470c6' }\n              },\n              {\n                value: this.cards[1].data,\n                itemStyle: { color: '#91cc75' }\n              },\n              {\n                value: this.cards[2].data,\n                itemStyle: { color: '#fac858' }\n              },\n              {\n                value: this.cards[3].data,\n                itemStyle: { color: '#ee6666' }\n              }\n            ]\n          }\n        ]\n      })\n      window.addEventListener('resize', () => {\n        myChart.resize()\n      })\n    })\n  },\n  methods: {\n    circleTimer() {\n      this.getTimer()\n      setInterval(() => {\n        this.getTimer()\n      }, 1000)\n    },\n    getTimer() {\n      var d = new Date()\n      var t = d.toLocaleString()\n      document.getElementById('myTimer').innerHTML = t\n    }\n  }\n}\n</script>\n\n<style scoped>\n.box-card {\n   width: 80%;\n  margin-bottom: 25px;\n  margin-left: 10px;\n}\n\n.clearfix {\n  text-align: center;\n  font-size: 15px;\n}\n\n.text {\n  text-align: center;\n  font-size: 24px;\n  font-weight: 700;\n  vertical-align: super;\n}\n\n#main {\n  width: 100%;\n  height: 450px;\n  margin-top: 20px;\n}\n\n.icon {\n  width: 50px;\n  height: 50px;\n  padding-top: 5px;\n  padding-right: 10px;\n}\n</style>"],"mappings":";;;EAKeA,IAAI,EAAC,QAAQ;EAACC,KAAK,EAAC;;;EACpBA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC,MAAM;EAAC,aAAW,EAAC;;;;EAGxBA,KAAK,EAAC;AAAM;gEAK1BC,mBAAA,CAAoE;EAA/DC,EAAE,EAAC,SAAS;EAACC,KAA2C,EAA3C;IAAA;IAAA;EAAA;;gEAElBF,mBAAA,CAA8C;EAAzCC,EAAE,EAAC,MAAM;EAACC,KAAwB,EAAxB;IAAA;EAAA;;;;;;;uBAhBjBC,mBAAA,CAiBM,cAhBJC,YAAA,CAYSC,iBAAA;IAZAC,MAAM,EAAE;EAAE;sBACC,MAAqB,E,kBAAvCH,mBAAA,CAUSI,SAAA,QAAAC,WAAA,CAVwBC,KAAA,CAAAC,KAAK,EAAbC,IAAI;2BAA7BC,YAAA,CAUSC,iBAAA;QAVAC,IAAI,EAAE,CAAC;QAAyBC,GAAG,EAAEJ,IAAI,CAACK;;0BACjD,MAQU,CARVZ,YAAA,CAQUa,kBAAA;UARDlB,KAAK,EAAC;QAAU;4BACvB,MAA0D,CAA1DC,mBAAA,CAA0D,OAA1DkB,UAA0D,EAAAC,gBAAA,CAAnBR,IAAI,CAACK,KAAK,kBACjDhB,mBAAA,CAKM,OALNoB,UAKM,I,cAJJjB,mBAAA,CAEM,OAFNkB,UAEM,GADJrB,mBAAA,CAAwD;YAAlD,YAAU,EAAEW,IAAI,CAACW,IAAI;YAAEpB,KAAoB,EAApB;cAAA;YAAA;kDAE/BF,mBAAA,CAAyC,QAAzCuB,UAAyC,EAAAJ,gBAAA,CAAnBR,IAAI,CAACa,IAAI,iB;;;;;;;;;;MAKvCC,UAAoE,EACpEC,mBAAA,iCAAoC,EACpCC,UAA8C,C"}]}