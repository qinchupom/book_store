{"remainingRequest":"D:\\File\\projects\\bookstore\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\File\\projects\\bookstore\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\File\\projects\\bookstore\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\File\\projects\\bookstore\\vue\\src\\pages\\views\\Dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\File\\projects\\bookstore\\vue\\src\\pages\\views\\Dashboard.vue","mtime":1680835387130},{"path":"D:\\File\\projects\\bookstore\\vue\\babel.config.js","mtime":1676624600000},{"path":"D:\\File\\projects\\bookstore\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\File\\projects\\bookstore\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\File\\projects\\bookstore\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\File\\projects\\bookstore\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cyc7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtcGx1cyI7CmltcG9ydCByZXF1ZXN0IGZyb20gIi4uLy4uL3V0aWxzL3JlcXVlc3QiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXJkczogW3sKICAgICAgICB0aXRsZTogJ+W3suWAn+mYhScsCiAgICAgICAgZGF0YTogMTAwLAogICAgICAgIGljb246ICcjaWNvbmxlbmQtcmVjb3JkLXBybycKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5oC76K6/6ZeuJywKICAgICAgICBkYXRhOiAxMDAsCiAgICAgICAgaWNvbjogJyNpY29udmlzaXQnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+WbvuS5puaVsCcsCiAgICAgICAgZGF0YTogMTAwLAogICAgICAgIGljb246ICcjaWNvbmJvb2stcHJvJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfnlKjmiLfmlbAnLAogICAgICAgIGRhdGE6IDEwMDAsCiAgICAgICAgaWNvbjogJyNpY29ucG9wdWxhdGlvbicKICAgICAgfV0sCiAgICAgIGRhdGE6IHt9CiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGxldCB1c2VySnNvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKTsKICAgIGlmICghdXNlckpzb24pIHsKICAgICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY2lyY2xlVGltZXIoKTsKICAgIHJlcXVlc3QuZ2V0KCIvZGFzaGJvYXJkIikudGhlbihyZXMgPT4gewogICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgdGhpcy5jYXJkc1swXS5kYXRhID0gcmVzLmRhdGEubGVuZFJlY29yZENvdW50OwogICAgICAgIHRoaXMuY2FyZHNbMV0uZGF0YSA9IHJlcy5kYXRhLnZpc2l0Q291bnQ7CiAgICAgICAgdGhpcy5jYXJkc1syXS5kYXRhID0gcmVzLmRhdGEuYm9va0NvdW50OwogICAgICAgIHRoaXMuY2FyZHNbM10uZGF0YSA9IHJlcy5kYXRhLnVzZXJDb3VudDsKICAgICAgfSBlbHNlIHsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0KCiAgICAgIC8vIOWfuuS6juWHhuWkh+WlveeahGRvbe+8jOWIneWni+WMlmVjaGFydHPlrp7kvosKICAgICAgdmFyIG15Q2hhcnQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKSk7CiAgICAgIC8vIOe7mOWItuWbvuihqAogICAgICBteUNoYXJ0LnNldE9wdGlvbih7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfnu5/orqEnCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycKICAgICAgICAgIC8vIGF4aXNQb2ludGVyOiB7CiAgICAgICAgICAvLyAgIHR5cGU6ICdzaGFkb3cnIC8vIOm7mOiupOS4uuebtOe6v++8jOWPr+mAieS4uu+8midsaW5lJyB8ICdzaGFkb3cnCiAgICAgICAgICAvLyB9CiAgICAgICAgfSwKCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogJzMlJywKICAgICAgICAgIHJpZ2h0OiAnNCUnLAogICAgICAgICAgYm90dG9tOiAnMyUnLAogICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogewogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgIGRhdGE6IHRoaXMuY2FyZHMubWFwKGl0ZW0gPT4gaXRlbS50aXRsZSksCiAgICAgICAgICBheGlzVGljazogewogICAgICAgICAgICBhbGlnbldpdGhMYWJlbDogdHJ1ZQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScKICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIHR5cGU6ICdiYXInLAogICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgc2hvdzogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIGJhcldpZHRoOiAnMjUlJywKICAgICAgICAgIGRhdGE6IFt7CiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNhcmRzWzBdLmRhdGEsCiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAnIzU0NzBjNicKICAgICAgICAgICAgfQogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogdGhpcy5jYXJkc1sxXS5kYXRhLAogICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM5MWNjNzUnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2FyZHNbMl0uZGF0YSwKICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6ICcjZmFjODU4JwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNhcmRzWzNdLmRhdGEsCiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAnI2VlNjY2NicKICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9XQogICAgICB9KTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHsKICAgICAgICBteUNoYXJ0LnJlc2l6ZSgpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY2lyY2xlVGltZXIoKSB7CiAgICAgIHRoaXMuZ2V0VGltZXIoKTsKICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIHRoaXMuZ2V0VGltZXIoKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgZ2V0VGltZXIoKSB7CiAgICAgIHZhciBkID0gbmV3IERhdGUoKTsKICAgICAgdmFyIHQgPSBkLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteVRpbWVyJykuaW5uZXJIVE1MID0gdDsKICAgIH0KICB9Cn07"},{"version":3,"names":["echarts","ElMessage","request","router","data","cards","title","icon","created","userJson","sessionStorage","getItem","push","mounted","circleTimer","get","then","res","code","lendRecordCount","visitCount","bookCount","userCount","error","msg","myChart","init","document","getElementById","setOption","text","tooltip","trigger","grid","left","right","bottom","containLabel","xAxis","type","map","item","axisTick","alignWithLabel","yAxis","series","label","show","barWidth","value","itemStyle","color","window","addEventListener","resize","methods","getTimer","setInterval","d","Date","t","toLocaleString","innerHTML"],"sources":["D:\\File\\projects\\bookstore\\vue\\src\\pages\\views\\Dashboard.vue"],"sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"6\" v-for=\"item in cards\" :key=\"item.title\">\n        <el-card class=\"box-card\">\n          <div slot=\"header\" class=\"clearfix\">{{ item.title }}</div>\n          <div class=\"text item\">\n            <svg class=\"icon\" aria-hidden=\"true\">\n              <use :xlink:href=\"item.icon\" style=\"width: 100px\"></use>\n            </svg>\n            <span class=\"text\">{{ item.data }}</span>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n    <div id=\"myTimer\" style=\"margin-left: 15px;font-weight: 550;\"></div>\n    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->\n    <div id=\"main\" style=\"margin-left: 5px\"></div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\nimport {ElMessage} from \"element-plus\";\nimport request from \"../../utils/request\";\nimport router from \"@/router\";\n\nexport default {\n  data() {\n    return {\n      cards: [\n        { title: '已借阅', data: 100, icon: '#iconlend-record-pro' },\n        { title: '总访问', data: 100, icon: '#iconvisit'   },\n        { title: '图书数', data: 100, icon: '#iconbook-pro' },\n        { title: '用户数', data: 1000, icon: '#iconpopulation' }\n      ],\n      data:{}\n    }\n  },\n  created() {\n    let userJson = sessionStorage.getItem(\"user\")\n    if(!userJson)\n    {\n      router.push(\"/login\")\n    }\n  },\n  mounted() {\n    this.circleTimer()\n\n    request.get(\"/dashboard\").then(res=>{\n      if(res.code == 200)\n      {\n\n        this.cards[0].data = res.data.lendRecordCount\n        this.cards[1].data = res.data.visitCount\n        this.cards[2].data = res.data.bookCount\n        this.cards[3].data = res.data.userCount\n\n      }\n      else\n      {\n        ElMessage.error(res.msg)\n      }\n\n\n      // 基于准备好的dom，初始化echarts实例\n      var myChart = echarts.init(document.getElementById('main'))\n      // 绘制图表\n      myChart.setOption({\n        title: {\n          text: '统计'\n        },\n        tooltip: {\n          trigger: 'axis'\n          // axisPointer: {\n          //   type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n          // }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: this.cards.map(item => item.title),\n          axisTick: {\n            alignWithLabel: true\n          }\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [\n          {\n            type: 'bar',\n            label: { show: true },\n            barWidth: '25%',\n            data: [\n              {\n                value: this.cards[0].data,\n                itemStyle: { color: '#5470c6' }\n              },\n              {\n                value: this.cards[1].data,\n                itemStyle: { color: '#91cc75' }\n              },\n              {\n                value: this.cards[2].data,\n                itemStyle: { color: '#fac858' }\n              },\n              {\n                value: this.cards[3].data,\n                itemStyle: { color: '#ee6666' }\n              }\n            ]\n          }\n        ]\n      })\n      window.addEventListener('resize', () => {\n        myChart.resize()\n      })\n    })\n  },\n  methods: {\n    circleTimer() {\n      this.getTimer()\n      setInterval(() => {\n        this.getTimer()\n      }, 1000)\n    },\n    getTimer() {\n      var d = new Date()\n      var t = d.toLocaleString()\n      document.getElementById('myTimer').innerHTML = t\n    }\n  }\n}\n</script>\n\n<style scoped>\n.box-card {\n   width: 80%;\n  margin-bottom: 25px;\n  margin-left: 10px;\n}\n\n.clearfix {\n  text-align: center;\n  font-size: 15px;\n}\n\n.text {\n  text-align: center;\n  font-size: 24px;\n  font-weight: 700;\n  vertical-align: super;\n}\n\n#main {\n  width: 100%;\n  height: 450px;\n  margin-top: 20px;\n}\n\n.icon {\n  width: 50px;\n  height: 50px;\n  padding-top: 5px;\n  padding-right: 10px;\n}\n</style>"],"mappings":"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"}]}